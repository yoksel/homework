var poems=['\u043A\u0443\u043F\u0438\u0442\u044C \u043A\u0432\u0430\u0440\u0442\u0438\u0440\u0443 \u0432 \u0441\u044B\u043A\u0442\u044B\u0432\u043A\u0430\u0440\u0435\n\u0442\u0435\u043A\u0441\u0442 \u043F\u0435\u0441\u043D\u0438 \u0434\u0443\u0440\u0435\u043C\u0430\u0440 \u043C\u0435\u0434\u043B\u044F\u043A\n\u0434\u0435\u0440\u0436\u0430\u0442\u0435\u043B\u044C \u0431\u0443\u043C\u0430\u0433\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u0435\u043B\u044C\n\u0431\u0443\u043C\u0430\u0433','\u0430\u043B\u043B\u0435\u0440\u0433\u0438\u044F \u043D\u0430 \u0440\u0435\u043F\u0447\u0430\u0442\u044B\u0439 \u043B\u0443\u043A\n\u043A\u0430\u043A \u0434\u043E\u0435\u0445\u0430\u0442\u044C \u0438\u0437 \u0432\u0435\u043D\u044B \u0434\u043E \u0431\u044E\u043A\n\u0442\u043E\u0448\u043D\u043E\u0442\u0430 \u043F\u043E \u0443\u0442\u0440\u0430\u043C\n\u043E\u043E\u043E \u0430\u043C\u0441\u0442\u0435\u0440\u0434\u0430\u043C\n\u0444\u0435\u0434\u0435\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u043E\u0440\u0442\u0430\u043B \u0433\u043E\u0441\u0443\u0441\u043B\u0443\u0433','\u043F\u0440\u043E\u0435\u043A\u0446\u0438\u043E\u043D\u043D\u0430\u044F \u0440\u0435\u043A\u043B\u0430\u043C\u0430\n\u0441\u0442\u043E\u043C\u0430\u0442\u043E\u043B\u043E\u0433\u0438\u044F \u043C\u0438\u0430\u0441\u0441\n\u043F\u043E\u0433\u043E\u0432\u043E\u0440\u0438 \u0441\u043E \u043C\u043D\u043E\u044E \u043C\u0430\u043C\u0430\n\u0430\u0440\u0435\u043D\u0434\u0430 \u0441\u0430\u043C\u043E\u0441\u0432\u0430\u043B\u043E\u0432 \u043C\u0430\u0437\n\u0445\u0430\u0440\u0430\u043A\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043A\u0430 \u044D\u0440\u0430\u0441\u0442\u0430\n\u043A\u0438\u0442\u0430\u0439\u0441\u043A\u0430\u044F \u0437\u0443\u0431\u043D\u0430\u044F \u043F\u0430\u0441\u0442\u0430\n\u0432\u0441\u0435 \u0444\u0438\u043B\u044C\u043C\u044B \u043F\u0440\u043E \u043B\u044E\u0431\u043E\u0432\u044C \u0438 \u0441\u0442\u0440\u0430\u0441\u0442\u044C\n\u0430\u0442\u043B\u0430\u043D\u0442 \u0440\u0430\u0441\u043F\u0440\u0430\u0432\u0438\u043B \u043F\u043B\u0435\u0447\u0438 \u0447\u0430\u0441\u0442\u044C\n\u0442\u0440\u0430\u0432\u0430 \u043F\u043E\u0445\u043E\u0436\u0430\u044F \u043D\u0430 \u043C\u044F\u0442\u0443\n\u0440\u0430\u0441\u043A\u0440\u0430\u0441\u043A\u0430 \u0434\u0435\u0432\u043E\u0447\u043A\u0430 \u0441 \u043A\u043E\u0442\u043E\u043C\n\u043A\u043E\u0433\u043E \u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043D\u0430 \u043F\u043E\u0442\u043E\u043C\n\u043A\u0430\u043A \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u0441\u043D\u0435\u0436\u043D\u0443\u044E \u043B\u043E\u043F\u0430\u0442\u0443\n\u043E\u0444\u043E\u0440\u043C\u0438\u0442\u044C \u0432\u0438\u0437\u0443 \u0432 \u0441\u0438\u043D\u0433\u0430\u043F\u0443\u0440\n\u043F\u0440\u0438\u043A\u043E\u043B\u044B \u0441 \u0438\u043C\u0435\u043D\u0435\u043C \u0430\u0440\u0442\u0443\u0440','\u043A\u0440\u0430\u0441\u0438\u0432\u044B\u0439 \u043D\u043E\u0432\u043E\u0433\u043E\u0434\u043D\u0438\u0439 \u0444\u043E\u043D\n\u0432\u0435\u0431-\u043A\u0430\u043C\u0435\u0440\u0430 \u043E\u043D\u043B\u0430\u0439\u043D\n\u043A\u0430\u043A \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0430\u0439\u0444\u043E\u043D\n\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0434\u0438\u0437\u0430\u0439\u043D \n\u043A\u043E\u043D\u044C \u043F\u043E-\u0442\u0430\u0442\u0430\u0440\u0441\u043A\u0438 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\n\u043C\u0430\u0433\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0430\u043A\u0435\u0442\n\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u0441\u043C\u0435\u0448\u0430\u0440\u0438\u043A\u0438 \u043F\u0438\u043D-\u043A\u043E\u0434\n\u0431\u0430\u0440\u0442\u043E \u0430\u0432\u0442\u043E\u043F\u043E\u044D\u0442'];'use strict',function(){function a(a){function b(a,c,d){a.paused||a.ended||(c.drawImage(a,0,0),requestAnimationFrame(function(){b(a,c,d)}))}var c=document.querySelector('.video');c.srcObject=a,c.onloadedmetadata=function(){c.play()},canvasList=document.querySelectorAll('.canvas'),canvasList.map=[].map;var d=canvasList.map(function(a){return a.getContext('2d',{alpha:!1})});c.addEventListener('loadedmetadata',function(){canvasList.forEach(function(a){a.width=c.videoWidth,a.height=c.videoHeight})}),c.addEventListener('play',function(){this;d.forEach(function(a,d){b(c,a,d)})},0)}function b(a){var b,a,c=new(window.AudioContext||window.webkitAudioContext),d=c.createAnalyser();d.minDecibels=-90,d.maxDecibels=-10,d.smoothingTimeConstant=.85;var e=c.createWaveShaper(),f=c.createGain(),g=c.createBiquadFilter(),h=c.createConvolver(),i=document.querySelector('.audio-visualizer'),j=document.querySelector('.audio-visualizer__canvas'),k=j.getContext('2d');navigator.mediaDevices.getUserMedia?(b=c.createMediaStreamSource(a),b.connect(d),d.connect(e),e.connect(g),g.connect(h),h.connect(f),f.connect(c.destination),i.classList.remove('audio-visualizer--hidden'),function(){var a=j.width,b=j.height;d.fftSize=1024;var c=d.fftSize,e=new Uint8Array(c);k.clearRect(0,0,a,b);var f=function(){drawVisual=requestAnimationFrame(f),d.getByteTimeDomainData(e),k.fillStyle='#000',k.fillRect(0,0,a,b),k.lineWidth=3,k.strokeStyle='#FFF',k.beginPath();for(var g=0,h=0;h<c;h++){var i=e[h]/128,l=i*b/2;0===h?k.moveTo(g,l):k.lineTo(g,l),g+=1*a/c}k.lineTo(j.width,j.height/2),k.stroke()};f()}()):console.log('getUserMedia not supported on your browser')}var c=Math.round;(function(){navigator.mediaDevices.getUserMedia({audio:!0,video:{width:{min:300,ideal:800},height:{min:200,ideal:600}}}).then(function(c){b(c),a(c)}).catch(function(a){console.log('Error: ',a.name+': '+a.message)})})(),function(){var a=4,b=40,d=120,e=d,f=document.querySelector('.data'),g=document.createElement('ul');g.classList.add('data__list');for(var h,j=0;j<a;j++){h=document.createElement('li'),h.classList.add('data__item'),h.innerHTML='',g.appendChild(h);for(var i=0,l=[c(6*Math.random())+5,c(5*Math.random())+3],m=0,n=l[m],o=c(Math.random()*b/2)+b/2,p=0;p<o;p++){if(i>n&&i<=n+3)h.innerHTML+=e+'<br/>',i==n+3&&(m++,n=l[m]+p,i=0);else{var k=[e,(50*e).toString(16),(e-40).toString(16),(e-30).toString(16)];h.innerHTML+=content=k.join('\t')+'<br/>'}i++,e++}}f.appendChild(g)}(),function(){function a(){function h(){var c=d;d%2&&(c=-c),b.setAttribute('scale',c),requestAnimationFrame(a)}if('up'===g)d<e?(d+=f,h()):(g='down',h());else if(0<d)d-=f,h();else{var i=c(3*Math.random())+10;setTimeout(function(){a(),g='up'},1e3*i)}}var b=document.getElementById('feMap'),d=0,e=160,f=5,g='up';a()}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2RhdGEuanMiLCJqcy9jb21tb24uanMiXSwibmFtZXMiOlsicG9lbXMiLCJwYXVzZWQiLCJlbmRlZCIsImRyYXdJbWFnZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNyY09iamVjdCIsIm9ubG9hZGVkbWV0YWRhdGEiLCJwbGF5IiwiY2FudmFzTGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXAiLCJnZXRDb250ZXh0IiwiYWxwaGEiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9yRWFjaCIsIndpZHRoIiwidmlkZW9XaWR0aCIsImhlaWdodCIsInZpZGVvSGVpZ2h0Iiwid2luZG93IiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiY3JlYXRlQW5hbHlzZXIiLCJtaW5EZWNpYmVscyIsIm1heERlY2liZWxzIiwic21vb3RoaW5nVGltZUNvbnN0YW50IiwiY3JlYXRlV2F2ZVNoYXBlciIsImNyZWF0ZUdhaW4iLCJjcmVhdGVCaXF1YWRGaWx0ZXIiLCJjcmVhdGVDb252b2x2ZXIiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImNsYXNzTGlzdCIsInJlbW92ZSIsImZmdFNpemUiLCJVaW50OEFycmF5IiwiY2xlYXJSZWN0IiwiZHJhd1Zpc3VhbCIsImdldEJ5dGVUaW1lRG9tYWluRGF0YSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJjb25zb2xlIiwibG9nIiwiTWF0aCIsInJvdW5kIiwiYXVkaW8iLCJ2aWRlbyIsIm1pbiIsImlkZWFsIiwidGhlbiIsImNhdGNoIiwibmFtZSIsIm1lc3NhZ2UiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJyYW5kb20iLCJ0b1N0cmluZyIsImNvbnRlbnQiLCJqb2luIiwic2V0QXR0cmlidXRlIiwic2V0VGltZW91dCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxPQUFBLENBQ0EsNmRBREEsQ0FNQSxxa0JBTkEsQ0FZQSxvdkRBWkEsbzVCQUFBLENDQUEsWSxDQUVBLFVBQUEsQ0F5QkEsYUFBQSxDQThCQSxpQkFBQSxDQUNBLEVBQUFDLE1BQUEsRUFBQSxFQUFBQyxLQURBLEdBRUEsRUFBQUMsU0FBQSxHQUFBLENBQUEsQ0FBQSxDQUFBLENBRkEsQ0FJQUMsc0JBQUEsVUFBQSxDQUNBLFFBQ0EsQ0FGQSxDQUpBLENBUUEsQ0FyQ0EsR0FBQSxHQUFBQyxTQUFBQyxhQUFBLENBQUEsUUFBQSxDQUFBLENBQ0EsRUFBQUMsU0FBQSxFQUZBLENBSUEsRUFBQUMsZ0JBQUEsQ0FBQSxVQUFBLENBQ0EsRUFBQUMsSUFBQSxFQUNBLENBTkEsQ0FRQUMsV0FBQUwsU0FBQU0sZ0JBQUEsQ0FBQSxTQUFBLENBUkEsQ0FTQUQsV0FBQUUsR0FBQSxDQUFBLEdBQUFBLEdBVEEsQ0FXQSxHQUFBLEdBQUFGLFdBQUFFLEdBQUEsQ0FBQSxXQUFBLENBQ0EsTUFBQSxHQUFBQyxVQUFBLENBQUEsSUFBQSxDQUFBLENBQUFDLFFBQUEsQ0FBQSxDQUNBLENBRkEsQ0FBQSxDQUlBLEVBQUFDLGdCQUFBLENBQUEsZ0JBQUEsQ0FBQSxVQUFBLENBQ0FMLFdBQUFNLE9BQUEsQ0FBQSxXQUFBLENBQ0EsRUFBQUMsS0FBQSxDQUFBLEVBQUFDLFVBREEsQ0FFQSxFQUFBQyxNQUFBLENBQUEsRUFBQUMsV0FDQSxDQUhBLENBSUEsQ0FMQSxDQWZBLENBc0JBLEVBQUFMLGdCQUFBLENBQUEsTUFBQSxDQUFBLFVBQUEsQ0FDQSxJQURBLENBR0EsRUFBQUMsT0FBQSxDQUFBLGFBQUEsQ0FDQSxRQUNBLENBRkEsQ0FHQSxDQU5BLENBTUEsQ0FOQSxDQWlCQSxDQUtBLGFBQUEsQ0FDQSxH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Q0FFQSxFQUFBLEdBRkEsQ0FJQSxHQUpBLENBUUEsRUFBQTNELFNBQUFDLGFBQUEsQ0FBQSxPQUFBLENBUkEsQ0FTQSxFQUFBRCxTQUFBNEQsYUFBQSxDQUFBLElBQUEsQ0FUQSxDQVVBLEVBQUEzQixTQUFBLENBQUE0QixHQUFBLENBQUEsWUFBQSxDQVhBLENBY0EsSUFBQSxNQUFBLEVBQUEsQ0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsR0FDQTdELFNBQUE0RCxhQUFBLENBQUEsSUFBQSxDQURBLENBRUEsRUFBQTNCLFNBQUEsQ0FBQTRCLEdBQUEsQ0FBQSxZQUFBLENBRkEsQ0FHQSxFQUFBQyxTQUFBLENBQUEsRUFIQSxDQUlBLEVBQUFDLFdBQUEsR0FKQSxDQWNBLE9BVEEsR0FBQSxDQVNBLENBUkEsRUFBQSxDQUNBLEVBQUEsQ0FBQSxNQUFBQyxNQUFBLEVBQUEsRUFBQSxDQURBLENBRUEsRUFBQSxDQUFBLE1BQUFBLE1BQUEsRUFBQSxFQUFBLENBRkEsQ0FRQSxDQUpBLEVBQUEsQ0FJQSxDQUhBLEVBQUEsSUFHQSxDQUZBLEVBQUEsRUFBQWQsS0FBQWMsTUFBQSxLQUFBLENBQUEsRUFBQSxFQUFBLENBRUEsQ0FBQSxFQUFBLENBQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLENBQ0EsR0FBQSxLQUFBLEdBQUEsRUFBQSxDQUFBLENBQ0EsRUFBQUYsU0FBQSxFQUFBLEVBQUEsT0FEQSxDQUdBLEdBQUEsRUFBQSxDQUhBLEdBSUEsR0FKQSxDQUtBLEVBQUEsTUFMQSxDQU1BLEVBQUEsQ0FOQSxNQVNBLENBQ0EsR0FBQSxHQUFBLEdBRUEsQ0FBQSxFQUFBLEVBQUEsRUFBQUcsUUFBQSxDQUFBLEVBQUEsQ0FGQSxDQUdBLENBQUEsRUFBQSxFQUFBLEVBQUFBLFFBQUEsQ0FBQSxFQUFBLENBSEEsQ0FJQSxDQUFBLEVBQUEsRUFBQSxFQUFBQSxRQUFBLENBQUEsRUFBQSxDQUpBLENBQUEsQ0FPQSxFQUFBSCxTQUFBLEVBQUFJLFFBQUEsRUFBQUMsSUFBQSxDQUFBLElBQUEsRUFBQSxPQUNBLENBQ0EsR0FwQkEsQ0FxQkEsR0FDQSxDQUNBLENBRUEsRUFBQUosV0FBQSxHQUNBLENBdURBLEVBdlFBLENBb05BLFVBQUEsQ0FTQSxZQUFBLENBMEJBLFlBQUEsQ0FDQSxHQUFBLElBQUEsQ0FDQSxFQUFBLENBRkEsR0FHQSxFQUFBLEVBSEEsRUFNQSxFQUFBSyxZQUFBLENBQUEsT0FBQSxHQU5BLENBUUFyRSx3QkFDQSxDQWxDQSxHQUFBLElBQUEsSUFBQSxDQUNBLEdBREEsRUFFQSxJQUZBLENBR0EsR0FIQSxHQU1BLEVBQUEsTUFOQSxDQU9BLEdBUEEsTUFXQSxJQUFBLENBQUEsRUFBQSxDQUNBLElBREEsQ0FFQSxHQUZBLEtBSUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxDQUFBLE1BQUFpRSxNQUFBLEVBQUEsRUFBQSxFQUFBLENBRUFLLFdBQUEsVUFBQSxDQUNBLEdBREEsQ0FFQSxFQUFBLElBQ0EsQ0FIQSxDQUdBLEdBQUEsRUFIQSxDQUlBLENBYUEsQ0E1Q0EsR0FBQSxHQUFBckUsU0FBQXNFLGNBQUEsQ0FBQSxPQUFBLENBQUEsQ0FDQSxFQUFBLENBREEsQ0FFQSxFQUFBLEdBRkEsQ0FHQSxFQUFBLENBSEEsQ0FJQSxFQUFBLElBSkEsQ0FNQSxHQXVDQSxDQU1BLEVBRUEsQ0ExUUEsRSIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwb2VtcyA9IFtcbifQutGD0L/QuNGC0Ywg0LrQstCw0YDRgtC40YDRgyDQsiDRgdGL0LrRgtGL0LLQutCw0YDQtVxcblxcXG7RgtC10LrRgdGCINC/0LXRgdC90Lgg0LTRg9GA0LXQvNCw0YAg0LzQtdC00LvRj9C6XFxuXFxcbtC00LXRgNC20LDRgtC10LvRjCDQsdGD0LzQsNCz0L7QtNC10YDQttCw0YLQtdC70YxcXG5cXFxu0LHRg9C80LDQsycsXG5cbifQsNC70LvQtdGA0LPQuNGPINC90LAg0YDQtdC/0YfQsNGC0YvQuSDQu9GD0LpcXG5cXFxu0LrQsNC6INC00L7QtdGF0LDRgtGMINC40Lcg0LLQtdC90Ysg0LTQviDQsdGO0LpcXG5cXFxu0YLQvtGI0L3QvtGC0LAg0L/QviDRg9GC0YDQsNC8XFxuXFxcbtC+0L7QviDQsNC80YHRgtC10YDQtNCw0LxcXG5cXFxu0YTQtdC00LXRgNCw0LvRjNC90YvQuSDQv9C+0YDRgtCw0Lsg0LPQvtGB0YPRgdC70YPQsycsXG5cbifQv9GA0L7QtdC60YbQuNC+0L3QvdCw0Y8g0YDQtdC60LvQsNC80LBcXG5cXFxu0YHRgtC+0LzQsNGC0L7Qu9C+0LPQuNGPINC80LjQsNGB0YFcXG5cXFxu0L/QvtCz0L7QstC+0YDQuCDRgdC+INC80L3QvtGOINC80LDQvNCwXFxuXFxcbtCw0YDQtdC90LTQsCDRgdCw0LzQvtGB0LLQsNC70L7QsiDQvNCw0LdcXG5cXFxu0YXQsNGA0LDQutGC0LXRgNC40YHRgtC40LrQsCDRjdGA0LDRgdGC0LBcXG5cXFxu0LrQuNGC0LDQudGB0LrQsNGPINC30YPQsdC90LDRjyDQv9Cw0YHRgtCwXFxuXFxcbtCy0YHQtSDRhNC40LvRjNC80Ysg0L/RgNC+INC70Y7QsdC+0LLRjCDQuCDRgdGC0YDQsNGB0YLRjFxcblxcXG7QsNGC0LvQsNC90YIg0YDQsNGB0L/RgNCw0LLQuNC7INC/0LvQtdGH0Lgg0YfQsNGB0YLRjFxcblxcXG7RgtGA0LDQstCwINC/0L7RhdC+0LbQsNGPINC90LAg0LzRj9GC0YNcXG5cXFxu0YDQsNGB0LrRgNCw0YHQutCwINC00LXQstC+0YfQutCwINGBINC60L7RgtC+0LxcXG5cXFxu0LrQvtCz0L4g0L7RgdGC0LDQstC40YLRjCDQvdCwINC/0L7RgtC+0LxcXG5cXFxu0LrQsNC6INGB0LTQtdC70LDRgtGMINGB0L3QtdC20L3Rg9GOINC70L7Qv9Cw0YLRg1xcblxcXG7QvtGE0L7RgNC80LjRgtGMINCy0LjQt9GDINCyINGB0LjQvdCz0LDQv9GD0YBcXG5cXFxu0L/RgNC40LrQvtC70Ysg0YEg0LjQvNC10L3QtdC8INCw0YDRgtGD0YAnLFxuXG5g0LrRgNCw0YHQuNCy0YvQuSDQvdC+0LLQvtCz0L7QtNC90LjQuSDRhNC+0L1cXG5cXFxu0LLQtdCxLdC60LDQvNC10YDQsCDQvtC90LvQsNC50L1cXG5cXFxu0LrQsNC6INGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNGC0Ywg0LDQudGE0L7QvVxcblxcXG7Qs9GA0LDRhNC40YfQtdGB0LrQuNC5INC00LjQt9Cw0LnQvSBcXG5cXFxu0LrQvtC90Ywg0L/Qvi3RgtCw0YLQsNGA0YHQutC4INC/0LXRgNC10LLQvtC0XFxuXFxcbtC80LDQs9C40YfQtdGB0LrQuNC5INC/0LDQutC10YJcXG5cXFxu0YHQvNC+0YLRgNC10YLRjCDRgdC80LXRiNCw0YDQuNC60Lgg0L/QuNC9LdC60L7QtFxcblxcXG7QsdCw0YDRgtC+INCw0LLRgtC+0L/QvtGN0YJgXG5dO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gIGZ1bmN0aW9uIGdldFN0cmVhbSgpIHtcbiAgICBsZXQgY2FudmFzTGlzdCA9IFtdO1xuXG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgYXVkaW86IHRydWUsXG4gICAgICB2aWRlbzoge1xuICAgICAgICB3aWR0aDogeyBtaW46IDMwMCwgaWRlYWw6IDgwMCB9LFxuICAgICAgICBoZWlnaHQ6IHsgbWluOiAyMDAsIGlkZWFsOiA2MDAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24obWVkaWFTdHJlYW0pIHtcbiAgICAgICAgYWRkU291bmRWb2x1bWUobWVkaWFTdHJlYW0pO1xuICAgICAgICBhZGRWaWRlb1RvQ2FudmFzKG1lZGlhU3RyZWFtKVxuXG5cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJywgZXJyLm5hbWUgKyBcIjogXCIgKyBlcnIubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZnVuY3Rpb24gYWRkVmlkZW9Ub0NhbnZhcyhtZWRpYVN0cmVhbSkge1xuICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvJyk7XG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gbWVkaWFTdHJlYW07XG5cbiAgICB2aWRlby5vbmxvYWRlZG1ldGFkYXRhID0gZnVuY3Rpb24oZSkge1xuICAgICAgdmlkZW8ucGxheSgpO1xuICAgIH07XG5cbiAgICBjYW52YXNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbnZhcycpO1xuICAgIGNhbnZhc0xpc3QubWFwID0gW10ubWFwO1xuXG4gICAgY29uc3QgY29udGV4dExpc3QgPSBjYW52YXNMaXN0Lm1hcChpdGVtID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7XG4gICAgfSk7XG5cbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uKCkge1xuICAgICAgY2FudmFzTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLndpZHRoID0gdmlkZW8udmlkZW9XaWR0aDtcbiAgICAgICAgaXRlbS5oZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDtcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgICAgY29udGV4dExpc3QuZm9yRWFjaCgoaXRlbSwgaSApID0+IHtcbiAgICAgICAgZHJhdyh2aWRlbywgaXRlbSwgaSk7XG4gICAgICB9KVxuICAgIH0sIDApO1xuXG4gICAgZnVuY3Rpb24gZHJhdyh2aWRlbywgY29udGV4dCwgaXRlbU51bSkge1xuICAgICAgaWYgKCF2aWRlby5wYXVzZWQgJiYgIXZpZGVvLmVuZGVkKSB7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvLCAwLCAwKTtcblxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGRyYXcodmlkZW8sIGNvbnRleHQsIGl0ZW1OdW0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL21kbi92b2ljZS1jaGFuZ2Utby1tYXRpY1xuICBmdW5jdGlvbiBhZGRTb3VuZFZvbHVtZShzdHJlYW0pIHtcbiAgICB2YXIgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcbiAgICB2YXIgc291cmNlO1xuICAgIHZhciBzdHJlYW07XG5cbiAgICAvL3NldCB1cCB0aGUgZGlmZmVyZW50IGF1ZGlvIG5vZGVzIHdlIHdpbGwgdXNlIGZvciB0aGUgYXBwXG4gICAgdmFyIGFuYWx5c2VyID0gYXVkaW9DdHguY3JlYXRlQW5hbHlzZXIoKTtcbiAgICBhbmFseXNlci5taW5EZWNpYmVscyA9IC05MDtcbiAgICBhbmFseXNlci5tYXhEZWNpYmVscyA9IC0xMDtcbiAgICBhbmFseXNlci5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjg1O1xuXG4gICAgdmFyIGRpc3RvcnRpb24gPSBhdWRpb0N0eC5jcmVhdGVXYXZlU2hhcGVyKCk7XG4gICAgdmFyIGdhaW5Ob2RlID0gYXVkaW9DdHguY3JlYXRlR2FpbigpO1xuICAgIHZhciBiaXF1YWRGaWx0ZXIgPSBhdWRpb0N0eC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtcbiAgICB2YXIgY29udm9sdmVyID0gYXVkaW9DdHguY3JlYXRlQ29udm9sdmVyKCk7XG5cbiAgICB2YXIgdmlzdWFsaXplciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdWRpby12aXN1YWxpemVyJyk7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdWRpby12aXN1YWxpemVyX19jYW52YXMnKTtcbiAgICB2YXIgY2FudmFzQ3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSkge1xuICAgICAgc291cmNlID0gYXVkaW9DdHguY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uoc3RyZWFtKTtcbiAgICAgIHNvdXJjZS5jb25uZWN0KGFuYWx5c2VyKTtcbiAgICAgIGFuYWx5c2VyLmNvbm5lY3QoZGlzdG9ydGlvbik7XG4gICAgICBkaXN0b3J0aW9uLmNvbm5lY3QoYmlxdWFkRmlsdGVyKTtcbiAgICAgIGJpcXVhZEZpbHRlci5jb25uZWN0KGNvbnZvbHZlcik7XG4gICAgICBjb252b2x2ZXIuY29ubmVjdChnYWluTm9kZSk7XG4gICAgICBnYWluTm9kZS5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTtcblxuICAgICAgdmlzdWFsaXplci5jbGFzc0xpc3QucmVtb3ZlKCdhdWRpby12aXN1YWxpemVyLS1oaWRkZW4nKTtcbiAgICAgIHZpc3VhbGl6ZSgpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICBjb25zb2xlLmxvZygnZ2V0VXNlck1lZGlhIG5vdCBzdXBwb3J0ZWQgb24geW91ciBicm93c2VyJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlzdWFsaXplKCkge1xuICAgICAgY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gICAgICBhbmFseXNlci5mZnRTaXplID0gMTAyNDtcbiAgICAgIHZhciBidWZmZXJMZW5ndGggPSBhbmFseXNlci5mZnRTaXplO1xuICAgICAgdmFyIGRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlckxlbmd0aCk7XG5cbiAgICAgIGNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIHZhciBkcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRyYXdWaXN1YWwgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gICAgICAgIGFuYWx5c2VyLmdldEJ5dGVUaW1lRG9tYWluRGF0YShkYXRhQXJyYXkpO1xuXG4gICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNhbnZhc0N0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjYW52YXNDdHgubGluZVdpZHRoID0gMztcbiAgICAgICAgY2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gJyNGRkYnO1xuXG4gICAgICAgIGNhbnZhc0N0eC5iZWdpblBhdGgoKTtcblxuICAgICAgICB2YXIgc2xpY2VXaWR0aCA9IHdpZHRoICogMS4wIC8gYnVmZmVyTGVuZ3RoO1xuICAgICAgICB2YXIgeCA9IDA7XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGJ1ZmZlckxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICB2YXIgdiA9IGRhdGFBcnJheVtpXSAvIDEyOC4wO1xuICAgICAgICAgIHZhciB5ID0gdiAqIGhlaWdodC8yO1xuXG4gICAgICAgICAgaWYoaSA9PT0gMCkge1xuICAgICAgICAgICAgY2FudmFzQ3R4Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FudmFzQ3R4LmxpbmVUbyh4LCB5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB4ICs9IHNsaWNlV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXNDdHgubGluZVRvKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodC8yKTtcbiAgICAgICAgY2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgICAgfTtcblxuICAgICAgZHJhdygpO1xuICAgIH1cbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZnVuY3Rpb24gYWRkRGF0YSgpIHtcbiAgICBjb25zdCBjaGFua3NDb3VudCA9IDQ7XG4gICAgY29uc3QgY2hhbmtMZW5ndGggPSA0MDtcbiAgICBjb25zdCBtaW4gPSAxMjA7XG4gICAgY29uc3QgbWF4ID0gbWluICsgY2hhbmtMZW5ndGggKiBjaGFua3NDb3VudDtcbiAgICBsZXQgY2hhbmtJdGVtc0NvdW50ZXIgPSBtaW47XG5cbiAgICAvLyBjb25zb2xlLmxvZyhyYW5kQ2hhbmtzU2VjdGlvbnMpO1xuXG4gICAgY29uc3QgZGF0YUVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0YScpO1xuICAgIGNvbnN0IGRhdGFMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBkYXRhTGlzdC5jbGFzc0xpc3QuYWRkKCdkYXRhX19saXN0Jyk7XG5cblxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjaGFua3NDb3VudDsgaSsrICkge1xuICAgICAgY29uc3QgZGF0YUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgZGF0YUl0ZW0uY2xhc3NMaXN0LmFkZCgnZGF0YV9faXRlbScpO1xuICAgICAgZGF0YUl0ZW0uaW5uZXJIVE1MID0gJyc7XG4gICAgICBkYXRhTGlzdC5hcHBlbmRDaGlsZChkYXRhSXRlbSk7XG4gICAgICBsZXQgc2VjdGlvbkxlbmd0aCA9IDA7XG4gICAgICBjb25zdCByYW5kQ2hhbmtzU2VjdGlvbnMgPSBbXG4gICAgICAgIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpICsgNSxcbiAgICAgICAgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSkgKyAzXG4gICAgICBdO1xuICAgICAgbGV0IGN1cnJlbnRTZWN0aW9uID0gMDtcbiAgICAgIGxldCBjdXJyZW50U2VjdGlvbkxlbmd0aCA9IHJhbmRDaGFua3NTZWN0aW9uc1tjdXJyZW50U2VjdGlvbl07XG4gICAgICBsZXQgY3VycmVudENoYW5rTGVuZ3RoID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogY2hhbmtMZW5ndGggLyAyKSArIGNoYW5rTGVuZ3RoIC8gMjtcblxuICAgICAgZm9yKHZhciBrID0gMDsgayA8IGN1cnJlbnRDaGFua0xlbmd0aDsgaysrICkge1xuICAgICAgICBpZiAoc2VjdGlvbkxlbmd0aCA+IGN1cnJlbnRTZWN0aW9uTGVuZ3RoICYmIHNlY3Rpb25MZW5ndGggPD0gY3VycmVudFNlY3Rpb25MZW5ndGggKyAzKSB7XG4gICAgICAgICAgICBkYXRhSXRlbS5pbm5lckhUTUwgKz0gY2hhbmtJdGVtc0NvdW50ZXIgKyAnPGJyLz4nO1xuXG4gICAgICAgICAgICBpZiAoc2VjdGlvbkxlbmd0aCA9PSBjdXJyZW50U2VjdGlvbkxlbmd0aCArIDMpIHtcbiAgICAgICAgICAgICAgY3VycmVudFNlY3Rpb24rKztcbiAgICAgICAgICAgICAgY3VycmVudFNlY3Rpb25MZW5ndGggPSByYW5kQ2hhbmtzU2VjdGlvbnNbY3VycmVudFNlY3Rpb25dICsgaztcbiAgICAgICAgICAgICAgc2VjdGlvbkxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGV0IGNvbnRlbnRMaXN0ID0gW1xuICAgICAgICAgICAgY2hhbmtJdGVtc0NvdW50ZXIsXG4gICAgICAgICAgICAoY2hhbmtJdGVtc0NvdW50ZXIgKiA1MCkudG9TdHJpbmcoMTYpLFxuICAgICAgICAgICAgKGNoYW5rSXRlbXNDb3VudGVyIC0gNDApLnRvU3RyaW5nKDE2KSxcbiAgICAgICAgICAgIChjaGFua0l0ZW1zQ291bnRlciAtIDMwKS50b1N0cmluZygxNiksXG4gICAgICAgICAgXTtcblxuICAgICAgICAgIGRhdGFJdGVtLmlubmVySFRNTCArPSBjb250ZW50ID0gY29udGVudExpc3Quam9pbignXFx0JykgKyAnPGJyLz4nO1xuICAgICAgICB9XG4gICAgICAgIHNlY3Rpb25MZW5ndGgrKztcbiAgICAgICAgY2hhbmtJdGVtc0NvdW50ZXIrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkYXRhRWxlbS5hcHBlbmRDaGlsZChkYXRhTGlzdCk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGZ1bmN0aW9uIGFuaW1hdGVGaWx0ZXIoKSB7XG4gICAgdmFyIGZlTWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlTWFwJyk7XG4gICAgbGV0IGN1cnJlbnRWYWwgPSAwO1xuICAgIGNvbnN0IG1heFZhbCA9IDE2MDtcbiAgICBjb25zdCBzdGVwID0gNTtcbiAgICBsZXQgZGlyZWN0aW9uID0gJ3VwJztcblxuICAgIGFuaW1hdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAndXAnKSB7XG4gICAgICAgIGlmIChjdXJyZW50VmFsIDwgbWF4VmFsKSB7XG4gICAgICAgICAgY3VycmVudFZhbCArPSBzdGVwO1xuICAgICAgICAgIHNldFZhbCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpcmVjdGlvbiA9ICdkb3duJztcbiAgICAgICAgICBzZXRWYWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChjdXJyZW50VmFsID4gMCkge1xuICAgICAgICAgIGN1cnJlbnRWYWwgLT0gc3RlcDtcbiAgICAgICAgICBzZXRWYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCByYW5kRGVsYXkgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAzKSArIDEwO1xuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFuaW1hdGUoKTtcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd1cCc7XG4gICAgICAgICAgfSwgcmFuZERlbGF5ICogMTAwMClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXRWYWwoKSB7XG4gICAgICAgIGxldCBuZXdWYWwgPSBjdXJyZW50VmFsO1xuICAgICAgICBpZiAoY3VycmVudFZhbCAlIDIpIHtcbiAgICAgICAgICBuZXdWYWwgPSAtbmV3VmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgZmVNYXAuc2V0QXR0cmlidXRlKCdzY2FsZScsIG5ld1ZhbCk7XG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZ2V0U3RyZWFtKCk7XG4gIGFkZERhdGEoKTtcbiAgYW5pbWF0ZUZpbHRlcigpO1xuXG59KSgpO1xuIl19
